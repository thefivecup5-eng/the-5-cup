---
interface Props {
  platform: string;
  handle: string;
  followers?: string;
  color: "instagram" | "twitter" | "youtube";
  link?: string;
}

const { platform, handle, followers = "0", color, link = "#" } = Astro.props;

const colorStyles = {
  instagram: {
    border: "bg-gradient-to-r from-[#CB9D36] to-[#0A4A2E]",
    text: "text-[#10305D]",
    button: "bg-gradient-to-r from-[#CB9D36] to-[#0A4A2E] hover:opacity-90",
    icon: "text-[#10305D]",
  },
  twitter: {
    border: "bg-gradient-to-r from-[#10305D] to-[#0A4A2E]",
    text: "text-[#10305D]",
    button: "bg-gradient-to-r from-[#10305D] to-[#0A4A2E] hover:opacity-90",
    icon: "text-[#10305D]",
  },
  youtube: {
    border: "bg-gradient-to-r from-[#CB9D36] to-[#10305D]",
    text: "text-[#10305D]",
    button: "bg-gradient-to-r from-[#CB9D36] to-[#10305D] hover:opacity-90",
    icon: "text-[#10305D]",
  },
};

const styles = colorStyles[color];
---

<div
  class="bg-white rounded-xl shadow-sm hover:shadow-md transition-shadow overflow-hidden flex flex-col items-center p-6 pt-0 relative group"
>
  <div class={`absolute top-0 left-0 w-full h-1.5 ${styles.border}`}></div>

  <div
    class="mt-8 mb-4 p-3 rounded-full bg-gray-50 border border-gray-100 transform group-hover:scale-110 transition-transform duration-300"
  >
    <slot name="icon" />
  </div>

  <h3 class="text-gray-900 font-semibold text-lg mb-1">{platform}</h3>
  <p class="text-gray-500 text-sm mb-6">{handle}</p>

  <div class="mt-auto w-full text-center">
    {
      followers && (
        <p class="text-gray-400 text-xs mb-3 font-medium tracking-wide">
          Abonn√©s
        </p>
      )
    }

    <a
      href={link}
      class={`block w-full py-2.5 px-4 rounded-lg text-white text-sm font-medium transition-all ${styles.button}`}
    >
      Suivez-nous
    </a>
  </div>
</div>
