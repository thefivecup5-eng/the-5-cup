---
interface Props {
  platform: "Instagram" | "X" | "YouTube";
  handle?: string; // Optional handle override
  content: string;
  hashtags?: string[];
  likes: number;
  comments: number;
  image?: string; // Optional image for the post
}

const {
  platform,
  handle,
  content,
  hashtags = [],
  likes,
  comments,
  image,
} = Astro.props;

const platformConfig = {
  Instagram: {
    iconColor: "text-[#10305D]",
    defaultHandle: "@the5cup",
  },
  X: {
    iconColor: "text-[#0A4A2E]",
    defaultHandle: "@the5cup",
  },
  YouTube: {
    iconColor: "text-[#CB9D36]",
    defaultHandle: "The5Cup",
  },
};

const config = platformConfig[platform];
const displayHandle = handle || config.defaultHandle;
---

<div
  class="bg-white rounded-xl shadow-sm hover:shadow-md transition-shadow p-6 flex flex-col h-full border border-gray-100"
>
  <!-- Header -->
  <div class="flex items-center gap-3 mb-4">
    <div class={`flex-shrink-0 ${config.iconColor}`}>
      <slot name="icon" />
    </div>
    <div>
      <h4 class="text-sm font-semibold text-gray-900">{platform}</h4>
      <!-- <p class="text-xs text-gray-400">{displayHandle}</p> -->
    </div>
  </div>

  <!-- Content -->
  <div class="flex-1">
    <p class="text-gray-600 text-sm leading-relaxed mb-4">
      {content}
    </p>
    {
      hashtags.length > 0 && (
        <div class="flex flex-wrap gap-1 mb-4">
          {hashtags.map((tag) => (
            <span class="text-[#CB9D36] text-sm hover:underline cursor-pointer">
              #{tag}
            </span>
          ))}
        </div>
      )
    }
  </div>

  <!-- Footer Stats -->
  <div
    class="flex items-center gap-4 mt-4 pt-4 border-t border-gray-50 text-gray-400 text-sm"
  >
    <div
      class="flex items-center gap-1.5 hover:text-red-500 transition-colors cursor-pointer"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        class="h-4 w-4"
        fill={likes > 0 ? "currentColor" : "none"}
        viewBox="0 0 24 24"
        stroke="currentColor"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"
        ></path>
      </svg>
      <span>{likes}</span>
    </div>
    <div
      class="flex items-center gap-1.5 hover:text-blue-500 transition-colors cursor-pointer"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        class="h-4 w-4"
        fill="none"
        viewBox="0 0 24 24"
        stroke="currentColor"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 8 9 8z"
        ></path>
      </svg>
      <span>{comments}</span>
    </div>
  </div>
</div>
